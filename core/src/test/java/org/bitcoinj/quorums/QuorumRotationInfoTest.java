/*
 * Copyright 2021 Dash Core Group
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *    http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

package org.bitcoinj.quorums;

import com.google.common.collect.Lists;
import org.bitcoinj.core.Address;
import org.bitcoinj.core.Block;
import org.bitcoinj.core.BlockChain;
import org.bitcoinj.core.Context;
import org.bitcoinj.core.KeyId;
import org.bitcoinj.core.MasternodeAddress;
import org.bitcoinj.core.MasternodeSync;
import org.bitcoinj.core.PartialMerkleTree;
import org.bitcoinj.core.PeerGroup;
import org.bitcoinj.core.Sha256Hash;
import org.bitcoinj.core.Transaction;
import org.bitcoinj.core.Utils;
import org.bitcoinj.crypto.BLSLazyPublicKey;
import org.bitcoinj.crypto.BLSLazySignature;
import org.bitcoinj.evolution.Masternode;
import org.bitcoinj.evolution.MasternodeListDiffException;
import org.bitcoinj.evolution.SimplifiedMasternodeList;
import org.bitcoinj.evolution.SimplifiedMasternodeListDiff;
import org.bitcoinj.evolution.SimplifiedMasternodeListEntry;
import org.bitcoinj.params.TestNet3Params;
import org.bitcoinj.store.BlockStore;
import org.bitcoinj.store.BlockStoreException;
import org.bitcoinj.store.MemoryBlockStore;
import org.json.JSONObject;
import org.junit.Test;

import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.IOException;
import java.net.InetSocketAddress;
import java.net.URL;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.Map;

import static org.bitcoinj.core.Utils.HEX;
import static org.junit.Assert.assertArrayEquals;

public class QuorumRotationInfoTest {
    // qrinfo object
    byte [] payloadOne = HEX.decode("b0100000000000001fb95e7b0300000000001f8b7fec0600000000001fe6f9a607002e3df23eec5cd6a86edd509539028e2c3a3dc05315eb28f2baa43218ca080000cbd0594dd091bd3487b8644819f764b22e82a66f4bbc058b52aa9bce8400000001000000019df18bc86861585d33ff7d64197ebaea84bfe5abf590ef838fde37b010ac1988010103000500010000000000000000000000000000000000000000000000000000000000000000ffffffff0502c7100101ffffffff020034e230040000001976a914c0aa7affe002c1189d021ea819c2160f7100ef0288ac004e5349060000001976a914c0aa7affe002c1189d021ea819c2160f7100ef0288ac00000000460200c71000009e6a8ba2d901c4391c0f9eec7c8e6547fcc963445c1f05f299329b569eb14a09dbbf88a691b8d1a83f72ba3a0768d4bcc5ddc0b389609d7fa3880c09e964908c001fa27d217d28fe101e3ddfe04458e727f312d4497d972ecac4385783d9206f2eacfca3a3ad455b7729a7174240d35185a944420d7130ab391e498efd385e1a000000000000000000000000ffff23583e5c4e210981a33c9af0c3994fdbc3ab6253b855a9f5196d5c30d8f1c39872e50fd665d48b0cac9b52fc33fabad5d0f290ee5e2192d5bb098772cf8ed8873793c069018e56bbff9e012317651961ad3ae4c392e4ce43189c46391ea3e2bb9b94ef82798e07683898aca9feccfd91940491e4dd280b2cbd645379ce5940745f1492729975368f18000000000000000000000000ffff36b90f354e210079638c64a14669ec04e059154ba4dbcceb8150f958279696c2ec460b0193ecf37000bdcbc2281afede9559688eb0a095386648bd74282e1341815992154e9d71e337ad0185b4269dafa70f6b08a06033bd9fbb684fa47f179a63aaea66f09b5d30a0dc331052c4af397fb66db13afbd5a322dd8c23afb6a4508da9f0dfa628d00c12000000000000000000000000ffff34209b3f4e21935bb9eae3b52bf19057f6276898519fe5549e721d564c9fcf993197a12122e220d876e08d740530177cf409750113dd86d32e4b67c554de6d2135c7039bafaea68f648500865e485c328640d13b4ad0c80ebd7620e1c2aae836e30049e75c4994962bab754246dc6d696a3d7dbd79c8ee8020ef749376a1870a31091a2d90e4eb7d25000000000000000000000000ffff2358ef7e4e21114584677991f8eaa6030296846748abb721e30a33177a61592ae8d5a8c07225914c5141c97954910d65a76558cdee944bb31747694b85b76f448f635844e1b68eb406be01a7a876725a10aa312a5eab58c9f038d24a11f29cd5830fb20e677f73d86f4a53bf155e33f20c5dc6cec1e980d6164e5bcc009cc7c9369eec416c6bcc0926000000000000000000000000ffff22ddc3364e210f77f9bd3e658bcd239224f058205034c0398ea8d575f4795ee7e71099d47360592ffafb4adccee97800008482ae6caf3915e19832b4cd358a803f4e3001c3e2d1f88ca001c96864ced84be7267f94e5c641fcceffd355d117420f8d899d1e032dad65fa3b743161ad8c62a5da36580afe8db18a4a9e6d9bf376ffd3f310b64491ac1a000000000000000000000000ffff22db835e4e210dfada4a632174479c58d00d3e1972c503bed7a6e9afd6563380d009ae1ddc8a78683dc6ba33ed93c18427db3405c768ffa85b65932892ff79e09632101e6fcb146068df010b429223269d1ff92025c61ffc200690631c76da1ff8fb03326ae49e50600bd3a9feccfd91940491e4dd280b2cbd645379ce5940745f1492729975368f18000000000000000000000000ffff34270ab84e21148d10c5823f2e73486802e015ff32ae9c0d40008b8b0e28eafe8014a30338ca3c3b983452d078b46555834acef37d504a0f6263af5fa96f9e1248e463d43a99eeb51ba60198594754a6b28546e6d8e112686867c20936aa36fcfc29af2b019b3bf2e7c17c4246dc6d696a3d7dbd79c8ee8020ef749376a1870a31091a2d90e4eb7d25000000000000000000000000ffff23a52aa74e210e61e7e684c5dcfe2864f1fdadd36aa5ec4485cfc38bfdaa65a9cf52aab8da7305b8a5a04dd7521213e41b57e060d8f292999a284d04a370e426fd3d4a4f6c7867a6dee0015ad0076bda142e7e9d6c506d02d63c2bc637d165992026c3010417aa10f075442ab1622b1c5b0fd2558213b8e1e4ae187bc5772fb6f64f792bdcdac81e15000000000000000000000000ffff23a2e7a64e210a287c1c41f20264220e695ace88395c359ff9e9d94ead359bc78ee4ee8525a10eada8445127affa757db0739c6ab5c9e5c9bf2fc2898a962693b5d9136e661b008803d7005f4b95203e736575ae37fdae0acda4890c9cc06b1bbbb39b5cc56238ab7c9bc246594dd5d3e43178c477efd6f5051986507f36160ba8c20810acacefd80e000000000000000000000000ffff3644e8864e211387b7e90ada2aadd8bf27fbf362bc6a1938bc09624bb7e34caf505fb8c19e607826783d4fcb24151973f70324a95058034c19305ca2704fcd2f434121ef0544b43e1550012045008c9fb61b4278dc6aa53a0396de1cb6bca09cdd35523f790fbc81e016a1bd6b0ed697d85b9499cc86d7ec827c32e547d016dabee55cc70959405914000000000000000000000000ffff22dd2d804e21838d30ae8dacf5bc5db2d2d4dff6e0f67cb4df0c66747adb42fd6b98b7689d1ec54cbe778f605db526953e6d6c25ff336d8c418ad92074a423d99e4ec0ce52c00ecb4c4801a06ad4f5736397716b27555d8175abd5088c7ae431cb4487b04e6fc007586aac4246dc6d696a3d7dbd79c8ee8020ef749376a1870a31091a2d90e4eb7d25000000000000000000000000ffff22db4fb24e21844e56a388eaac738f10817403d2761992af9b8cdec6ed0c3d5fbf345e22b39ef47479231809521bf17c032a53f069b2886e8d3b5764112c41c23c1339351422aac02ce3014499e2827611d636b0ac935c8eb360bcd906151542c1dbe4495e4256eaddff7d90488c89099e6f9da4f8c3eedb204b59b7d6b685a21ae45a7c0381224911000000000000000000000000ffff36be9e1c4e2196ba7aa9ebb2383b3e3713a938c0c8cb911be900a2a74c8f8c29bc276cccef442e991198fd1d17ad4091f02fe6dcfec22cdd9cce53d846ce5b5b7670b77ef6604a4b79d501e4054498e317f06873d4b0bc7d6a284be34c4d1ae07ef1aa5450630b95aa79f84246dc6d696a3d7dbd79c8ee8020ef749376a1870a31091a2d90e4eb7d25000000000000000000000000ffff12ecce324e2102c576ad4856a6e8926be79b4fd834150e00d293627d61172e66168737e1078368f1eb0f14fc7cc4eee36aeb6441c2155b5bfd411f8e690e1cbfc3c0c8d6911f3459193d018a0660abe15fe891b3012689d186375624e358ce4e20c5347c13c18d38daa8a3b0354f284dbb5baac9a0ef0e2d66532aa1a1798da519dab9608be87fda00000000000000000000000000ffff22d249c94e2199d5a54726e217ed7350fa8d0dce76c58d1525c32c9799073d16293b6dd626a3e8d3a4498ca77775ca2bb70e68ca1655200c28114ba641a27755d2c53fe3513b2214c839016aab72c63516372c01cf70af24eb090619fc0147d076bf237d1a1d042f94e4640640d0431c13d93ceca1a6162a1b98a9bf7c4a60836f79ca7df87fdd5123000000000000000000000000ffff36d6be8e4e218c251baab202918fb6fe165606e7a0b325ca22db63bfdf2b18350ae14e6b0baa5730c753039a671e5c24d7fbc6097090564a662cb7cc3a3e943c78d224db3fef43f9834d012c4f1d22c965a166309e5030cadb31e0114d7b6cb70019a95cec76008ba3725e4246dc6d696a3d7dbd79c8ee8020ef749376a1870a31091a2d90e4eb7d25000000000000000000000000ffff12edb0da4e210b404ef5602b28b171d1bc4cd3b3f850a0c4a328fdb021bacf5beaee1fe4573ebf9bd174cd0c6657125aba31daeb7a0f46c7345e2ab8f582886b30a64e53de3500347cdf00acbb200b55ef5942c67488f3d16f88a7e02cf506d5cbdad381544a621a797fd21052c4af397fb66db13afbd5a322dd8c23afb6a4508da9f0dfa628d00c12000000000000000000000000ffff22dee8b84e2104bfadc894a7855412800db1941efc5284c0e19dd21512067e01bed98bfd939201e8bffd5de039177ef4ec15aa4c0bd50bb4bf449fc908fbb8ea7b7c4e2281f8704e54a701af7ef90f834b9975a14b0640800f503afaeb85d0e864a400a167c0b6acbb42fb919de82fede35f51e2ce061ebdc53d77497873dcaf9a43bcd24da1546e0b000000000000000000000000ffff36ca226f4e219117c6cce12009eca9ff41afafb6d549e4ee015a06e3232a053fdfd344f28bd1f787dcea71d4a647e2babbd3cfba5c85105aea7bd22d9328112ba0e49cc7149734f139f101af7bd2eb56e8b9254c013ae80ac2267c9ab87d64dd774306e8ae2e4d35855cb01052c4af397fb66db13afbd5a322dd8c23afb6a4508da9f0dfa628d00c12000000000000000000000000ffff22d96feb4e211201441bcdc0e523cc885d006fc8b6ff71578ea24ffbfabcf3f9afa7953601cfc8a49c152c29efde2662fddf2f4e3f845267532941be73923e05ea3885752cf3398c3fdb01f0286cb0d271036c33a0e8f448ff5244ac5933b58677b02efcc7baf507b597a390488c89099e6f9da4f8c3eedb204b59b7d6b685a21ae45a7c0381224911000000000000000000000000ffff22d158074e210a4b3082f7d7918df81b7b15e867bd35c7c729642fea5d9c7afe628b4976fc843068712db51ab1c77360dab75dd3a28209e32473dce7580ee782a2d7e947581ea4c88bcc0190ddd0caaaec9457cc18e9953fbccd46779eb35fd6853d09fed3ead849075342772dcee8f855f32e5654316618e4dc7d3dacb6210dff47ec9c8599671014000000000000000000000000ffff3424a6164e218d836b47be1ba461f488693ce3fa66e8782f80bc4aa2d6b5a15881f5b0871a15c3c87ad4a0f6f22b513b82f304fa7567cd1df94d978e4dcc6eeef5d53e226182627358fd01d0b26683589f121d96ccd9dd6026e9431d436f115e812fa29cac9f8b9d3cef1f1052c4af397fb66db13afbd5a322dd8c23afb6a4508da9f0dfa628d00c12000000000000000000000000ffff235779744e210ce6df6ec13f99b39fb83b0de01f87821ab51950be9444c170dedc6b2d3e44192cfbcebb12d77cd8b56c0d02ada981dad63eb4841b9d4d6ec0b585dd9558be50f4d2adf2005330ce416610e315947ad5f544e1c93f70e7a572c2da7706b77a5d64111d0248fca3a3ad455b7729a7174240d35185a944420d7130ab391e498efd385e1a000000000000000000000000ffff22d847074e2181976e87cd70e1e72dd22e745b33c1d84a13034113b48675cf3fb4e1e803611b05121e76344c630f235f9b236faca90f341b0cee046682764630293535427fa06db5e45101f344fd746ba50147d2afdce4cbde6250c0b4948a424c6c5c7e364f2dffd217a0743161ad8c62a5da36580afe8db18a4a9e6d9bf376ffd3f310b64491ac1a000000000000000000000000ffff12ecf4ec4e2193b9d6a7943212313f4bdce5715d1a78c83f5dca9f5595fd0e9f458c5e6bfd2c136c285dc19a7556835bfc2c0703b95ccb3f2963decf21ad52ccb2207319e6c9f907d4380114df5605d771bbcf44e6829711bb106370b77134c0da17222a79734f511ae722bd6b0ed697d85b9499cc86d7ec827c32e547d016dabee55cc70959405914000000000000000000000000ffff235664f54e219249c6e4858c09a5c31ea59e7390dea91d3e0a31b3e97d838c0933201893d27d674bf00b3bffc57cb7021a6e7c03b44a5af6e8b2699b24b12aa705ce4778607ca382fc030154afbee3a701139e6a88efce755a9a18a2080ceba45520e69fb0ec65195a4bccbd6b0ed697d85b9499cc86d7ec827c32e547d016dabee55cc70959405914000000000000000000000000ffff22d918294e21849ee88912fd4c7c33e4f1067df1c86a4f9a8b5a21688ec033401524982df527dd86ee5eb2ef3dbdd4d44d69372cd47e51fae3fdf02c30e3a066c8394d077eb54d3464b501b6ca9703d363fd91d2e64096fdd61c57b4e9335c1742957905448b0aa21b097ba9feccfd91940491e4dd280b2cbd645379ce5940745f1492729975368f18000000000000000000000000ffff23a1f79d4e218100d2337e02bd55d626b70064f6b4d69e9cdff6f76e85fd80694eab7017295bafa3cad44b02f3067167197bf9a38ebe603f27f844c4b62383b2dc5725d18cf41d37457e01b6abd61c343e5c179b11fdbccff62d6a0f4c87904754d6fa9e2c9792c665ccba7a72bda91fab7e73c544b1f186171016150b3da2fd727f24887c238bb40e000000000000000000000000ffff2358f7044e210ca710f904123df186bc5bc02d45ffffbaac1dfc52123fde1a1b05385db1322aeef734b708e223fb2f2cbda0c13f9c107f960bf44b206032089b92327d7ca74bca2227ba00fbb05d0d2c1ca63cd9ea1154a9a0f033adf669d8c876f657cd1e356aecb0ba060640d0431c13d93ceca1a6162a1b98a9bf7c4a60836f79ca7df87fdd5123000000000000000000000000ffff23a1eadf4e211350a07c982517dbb68e035f535cd6f29f09d4775639c7ec0100cdbc3445100add7f3b5c1274f5dac13ea2df113b712365299b5ac8dc4578946b2832f2ace888512c7ef1013b66fcfa2e380058307803346cb697cf765feb9efa25b874da026c408e54b8ddbd6b0ed697d85b9499cc86d7ec827c32e547d016dabee55cc70959405914000000000000000000000000ffff22dda00e4e210f12cbe56fc4748c4cb717c502041b29d87366bb5bf0c8d12ed0196934a5a6f41c6cdea6869df12dae669e6c1cf5d73305310725a8f935cc30af8b2ca2a680e2dd0e28650100020200651c81e41ae71cbe119edca7a700612225ca1c4a0d4e299c2c13bdd14095010000000000000cff0f0cff0f0b65f06fb4595acae7cd9a146c362b541799c0e0c25396fd844bd269f2d239515808d1f11abe590bce45065be35d24c51be048b090b04bd432ff24441e2d14a65c124dbaefb8efe80f088f6b7132494010e284f687da9968641cca40a73b201e96c75a28f41890e4ca26874cad99cbeb1ef28b7109f19e8a5ba380e61f3571a606c852d432c94e9d796b780f340febdc2bb652807adbd628c0072fe74b9c7b2cc21d4e73d9f87da57d2ff847531f561e973a4c9c4c0628e6b563bf5be90d2db167fbe0d306888c035aeb4c417da8df852a37f133427a0b2928a5650ff871bfbf0a566bb6f4551aa6b72756997290b2499411f7c6f467f02721b92068415f27e06e8647fbdc720d773807b42f2ca07bf4020065b1e4cf6731e138704c68c0abd8e6edb887c0ae6fd7a378353d18298cfd010000010000000cff0f0cef0f904a2cc7fa434b68ee07df047b4f95a2e1301fc67828e8b081a5cff90fef4549b2373f0b49f9f21b03152b09103f4a1178fe73e73f0ea76564241783688d654fbe41343ebc81093da1b29f2d8e9d02aa92586496944ffd4436bb3ccc895e54169a1cbc97673acc3b4423f3498d4d2c570ca68dc2a4d7fa549a01c2ba7e2dff47011caf7c077f88b8053be2d737619acec4956622159acd57f231c8db26adb06e194b9f718e45e465986456adb89e723e012cd9a76bf1d9462d79985007c77df8b8ede301646f9c1f844f27beca3651f3baadc03ecafb35d4006adce9710fe7671148916ce6c2336b7f14994ceca62e339540486dbf1d6bd031ac6447a4295d5effbee78f1231ad0b9fbd4d8caec6d6252e3df23eec5cd6a86edd509539028e2c3a3dc05315eb28f2baa43218ca080000e1aa5e55bacefefae1af6e384940eba37866e7bd0be7e798c634b582c00000000100000001c62a1a71e63421c829b19f7126fef61cb2bd6f7392c15843e122d3f159efa298010103000500010000000000000000000000000000000000000000000000000000000000000000ffffffff050298100101ffffffff020034e230040000001976a914c0aa7affe002c1189d021ea819c2160f7100ef0288ac004e5349060000001976a914c0aa7affe002c1189d021ea819c2160f7100ef0288ac00000000460200981000006ff9f8105563e0fb061ef0bdec17998ba5bb4cbc03823f415fd151cb9faa854d621488733baa29ff757814f8fa18dd578536ce1097773ca027baf7b0c3a1f4c9001fa27d217d28fe101e3ddfe04458e727f312d4497d972ecac4385783d9206f2eacfca3a3ad455b7729a7174240d35185a944420d7130ab391e498efd385e1a000000000000000000000000ffff23583e5c4e210981a33c9af0c3994fdbc3ab6253b855a9f5196d5c30d8f1c39872e50fd665d48b0cac9b52fc33fabad5d0f290ee5e2192d5bb098772cf8ed8873793c069018e56bbff9e012317651961ad3ae4c392e4ce43189c46391ea3e2bb9b94ef82798e07683898aca9feccfd91940491e4dd280b2cbd645379ce5940745f1492729975368f18000000000000000000000000ffff36b90f354e210079638c64a14669ec04e059154ba4dbcceb8150f958279696c2ec460b0193ecf37000bdcbc2281afede9559688eb0a095386648bd74282e1341815992154e9d71e337ad0185b4269dafa70f6b08a06033bd9fbb684fa47f179a63aaea66f09b5d30a0dc331052c4af397fb66db13afbd5a322dd8c23afb6a4508da9f0dfa628d00c12000000000000000000000000ffff34209b3f4e21935bb9eae3b52bf19057f6276898519fe5549e721d564c9fcf993197a12122e220d876e08d740530177cf409750113dd86d32e4b67c554de6d2135c7039bafaea68f648500865e485c328640d13b4ad0c80ebd7620e1c2aae836e30049e75c4994962bab754246dc6d696a3d7dbd79c8ee8020ef749376a1870a31091a2d90e4eb7d25000000000000000000000000ffff2358ef7e4e21114584677991f8eaa6030296846748abb721e30a33177a61592ae8d5a8c07225914c5141c97954910d65a76558cdee944bb31747694b85b76f448f635844e1b68eb406be01a7a876725a10aa312a5eab58c9f038d24a11f29cd5830fb20e677f73d86f4a53bf155e33f20c5dc6cec1e980d6164e5bcc009cc7c9369eec416c6bcc0926000000000000000000000000ffff22ddc3364e210f77f9bd3e658bcd239224f058205034c0398ea8d575f4795ee7e71099d47360592ffafb4adccee97800008482ae6caf3915e19832b4cd358a803f4e3001c3e2d1f88ca001c96864ced84be7267f94e5c641fcceffd355d117420f8d899d1e032dad65fa3b743161ad8c62a5da36580afe8db18a4a9e6d9bf376ffd3f310b64491ac1a000000000000000000000000ffff22db835e4e210dfada4a632174479c58d00d3e1972c503bed7a6e9afd6563380d009ae1ddc8a78683dc6ba33ed93c18427db3405c768ffa85b65932892ff79e09632101e6fcb146068df010b429223269d1ff92025c61ffc200690631c76da1ff8fb03326ae49e50600bd3a9feccfd91940491e4dd280b2cbd645379ce5940745f1492729975368f18000000000000000000000000ffff34270ab84e21148d10c5823f2e73486802e015ff32ae9c0d40008b8b0e28eafe8014a30338ca3c3b983452d078b46555834acef37d504a0f6263af5fa96f9e1248e463d43a99eeb51ba60198594754a6b28546e6d8e112686867c20936aa36fcfc29af2b019b3bf2e7c17c4246dc6d696a3d7dbd79c8ee8020ef749376a1870a31091a2d90e4eb7d25000000000000000000000000ffff23a52aa74e210e61e7e684c5dcfe2864f1fdadd36aa5ec4485cfc38bfdaa65a9cf52aab8da7305b8a5a04dd7521213e41b57e060d8f292999a284d04a370e426fd3d4a4f6c7867a6dee0015ad0076bda142e7e9d6c506d02d63c2bc637d165992026c3010417aa10f075442ab1622b1c5b0fd2558213b8e1e4ae187bc5772fb6f64f792bdcdac81e15000000000000000000000000ffff23a2e7a64e210a287c1c41f20264220e695ace88395c359ff9e9d94ead359bc78ee4ee8525a10eada8445127affa757db0739c6ab5c9e5c9bf2fc2898a962693b5d9136e661b008803d7005f4b95203e736575ae37fdae0acda4890c9cc06b1bbbb39b5cc56238ab7c9bc246594dd5d3e43178c477efd6f5051986507f36160ba8c20810acacefd80e000000000000000000000000ffff3644e8864e211387b7e90ada2aadd8bf27fbf362bc6a1938bc09624bb7e34caf505fb8c19e607826783d4fcb24151973f70324a95058034c19305ca2704fcd2f434121ef0544b43e1550012045008c9fb61b4278dc6aa53a0396de1cb6bca09cdd35523f790fbc81e016a1bd6b0ed697d85b9499cc86d7ec827c32e547d016dabee55cc70959405914000000000000000000000000ffff22dd2d804e21838d30ae8dacf5bc5db2d2d4dff6e0f67cb4df0c66747adb42fd6b98b7689d1ec54cbe778f605db526953e6d6c25ff336d8c418ad92074a423d99e4ec0ce52c00ecb4c4801a06ad4f5736397716b27555d8175abd5088c7ae431cb4487b04e6fc007586aac4246dc6d696a3d7dbd79c8ee8020ef749376a1870a31091a2d90e4eb7d25000000000000000000000000ffff22db4fb24e21844e56a388eaac738f10817403d2761992af9b8cdec6ed0c3d5fbf345e22b39ef47479231809521bf17c032a53f069b2886e8d3b5764112c41c23c1339351422aac02ce3014499e2827611d636b0ac935c8eb360bcd906151542c1dbe4495e4256eaddff7d90488c89099e6f9da4f8c3eedb204b59b7d6b685a21ae45a7c0381224911000000000000000000000000ffff36be9e1c4e2196ba7aa9ebb2383b3e3713a938c0c8cb911be900a2a74c8f8c29bc276cccef442e991198fd1d17ad4091f02fe6dcfec22cdd9cce53d846ce5b5b7670b77ef6604a4b79d501e4054498e317f06873d4b0bc7d6a284be34c4d1ae07ef1aa5450630b95aa79f84246dc6d696a3d7dbd79c8ee8020ef749376a1870a31091a2d90e4eb7d25000000000000000000000000ffff12ecce324e2102c576ad4856a6e8926be79b4fd834150e00d293627d61172e66168737e1078368f1eb0f14fc7cc4eee36aeb6441c2155b5bfd411f8e690e1cbfc3c0c8d6911f3459193d018a0660abe15fe891b3012689d186375624e358ce4e20c5347c13c18d38daa8a3b0354f284dbb5baac9a0ef0e2d66532aa1a1798da519dab9608be87fda00000000000000000000000000ffff22d249c94e2199d5a54726e217ed7350fa8d0dce76c58d1525c32c9799073d16293b6dd626a3e8d3a4498ca77775ca2bb70e68ca1655200c28114ba641a27755d2c53fe3513b2214c839016aab72c63516372c01cf70af24eb090619fc0147d076bf237d1a1d042f94e4640640d0431c13d93ceca1a6162a1b98a9bf7c4a60836f79ca7df87fdd5123000000000000000000000000ffff36d6be8e4e218c251baab202918fb6fe165606e7a0b325ca22db63bfdf2b18350ae14e6b0baa5730c753039a671e5c24d7fbc6097090564a662cb7cc3a3e943c78d224db3fef43f9834d012c4f1d22c965a166309e5030cadb31e0114d7b6cb70019a95cec76008ba3725e4246dc6d696a3d7dbd79c8ee8020ef749376a1870a31091a2d90e4eb7d25000000000000000000000000ffff12edb0da4e210b404ef5602b28b171d1bc4cd3b3f850a0c4a328fdb021bacf5beaee1fe4573ebf9bd174cd0c6657125aba31daeb7a0f46c7345e2ab8f582886b30a64e53de3500347cdf00acbb200b55ef5942c67488f3d16f88a7e02cf506d5cbdad381544a621a797fd21052c4af397fb66db13afbd5a322dd8c23afb6a4508da9f0dfa628d00c12000000000000000000000000ffff22dee8b84e2104bfadc894a7855412800db1941efc5284c0e19dd21512067e01bed98bfd939201e8bffd5de039177ef4ec15aa4c0bd50bb4bf449fc908fbb8ea7b7c4e2281f8704e54a701af7ef90f834b9975a14b0640800f503afaeb85d0e864a400a167c0b6acbb42fb919de82fede35f51e2ce061ebdc53d77497873dcaf9a43bcd24da1546e0b000000000000000000000000ffff36ca226f4e219117c6cce12009eca9ff41afafb6d549e4ee015a06e3232a053fdfd344f28bd1f787dcea71d4a647e2babbd3cfba5c85105aea7bd22d9328112ba0e49cc7149734f139f101af7bd2eb56e8b9254c013ae80ac2267c9ab87d64dd774306e8ae2e4d35855cb01052c4af397fb66db13afbd5a322dd8c23afb6a4508da9f0dfa628d00c12000000000000000000000000ffff22d96feb4e211201441bcdc0e523cc885d006fc8b6ff71578ea24ffbfabcf3f9afa7953601cfc8a49c152c29efde2662fddf2f4e3f845267532941be73923e05ea3885752cf3398c3fdb01f0286cb0d271036c33a0e8f448ff5244ac5933b58677b02efcc7baf507b597a390488c89099e6f9da4f8c3eedb204b59b7d6b685a21ae45a7c0381224911000000000000000000000000ffff22d158074e210a4b3082f7d7918df81b7b15e867bd35c7c729642fea5d9c7afe628b4976fc843068712db51ab1c77360dab75dd3a28209e32473dce7580ee782a2d7e947581ea4c88bcc0190ddd0caaaec9457cc18e9953fbccd46779eb35fd6853d09fed3ead849075342772dcee8f855f32e5654316618e4dc7d3dacb6210dff47ec9c8599671014000000000000000000000000ffff3424a6164e218d836b47be1ba461f488693ce3fa66e8782f80bc4aa2d6b5a15881f5b0871a15c3c87ad4a0f6f22b513b82f304fa7567cd1df94d978e4dcc6eeef5d53e226182627358fd01d0b26683589f121d96ccd9dd6026e9431d436f115e812fa29cac9f8b9d3cef1f1052c4af397fb66db13afbd5a322dd8c23afb6a4508da9f0dfa628d00c12000000000000000000000000ffff235779744e210ce6df6ec13f99b39fb83b0de01f87821ab51950be9444c170dedc6b2d3e44192cfbcebb12d77cd8b56c0d02ada981dad63eb4841b9d4d6ec0b585dd9558be50f4d2adf2005330ce416610e315947ad5f544e1c93f70e7a572c2da7706b77a5d64111d0248fca3a3ad455b7729a7174240d35185a944420d7130ab391e498efd385e1a000000000000000000000000ffff22d847074e2181976e87cd70e1e72dd22e745b33c1d84a13034113b48675cf3fb4e1e803611b05121e76344c630f235f9b236faca90f341b0cee046682764630293535427fa06db5e45101f344fd746ba50147d2afdce4cbde6250c0b4948a424c6c5c7e364f2dffd217a0743161ad8c62a5da36580afe8db18a4a9e6d9bf376ffd3f310b64491ac1a000000000000000000000000ffff12ecf4ec4e2193b9d6a7943212313f4bdce5715d1a78c83f5dca9f5595fd0e9f458c5e6bfd2c136c285dc19a7556835bfc2c0703b95ccb3f2963decf21ad52ccb2207319e6c9f907d4380114df5605d771bbcf44e6829711bb106370b77134c0da17222a79734f511ae722bd6b0ed697d85b9499cc86d7ec827c32e547d016dabee55cc70959405914000000000000000000000000ffff235664f54e219249c6e4858c09a5c31ea59e7390dea91d3e0a31b3e97d838c0933201893d27d674bf00b3bffc57cb7021a6e7c03b44a5af6e8b2699b24b12aa705ce4778607ca382fc030154afbee3a701139e6a88efce755a9a18a2080ceba45520e69fb0ec65195a4bccbd6b0ed697d85b9499cc86d7ec827c32e547d016dabee55cc70959405914000000000000000000000000ffff22d918294e21849ee88912fd4c7c33e4f1067df1c86a4f9a8b5a21688ec033401524982df527dd86ee5eb2ef3dbdd4d44d69372cd47e51fae3fdf02c30e3a066c8394d077eb54d3464b501b6ca9703d363fd91d2e64096fdd61c57b4e9335c1742957905448b0aa21b097ba9feccfd91940491e4dd280b2cbd645379ce5940745f1492729975368f18000000000000000000000000ffff23a1f79d4e218100d2337e02bd55d626b70064f6b4d69e9cdff6f76e85fd80694eab7017295bafa3cad44b02f3067167197bf9a38ebe603f27f844c4b62383b2dc5725d18cf41d37457e01b6abd61c343e5c179b11fdbccff62d6a0f4c87904754d6fa9e2c9792c665ccba7a72bda91fab7e73c544b1f186171016150b3da2fd727f24887c238bb40e000000000000000000000000ffff2358f7044e210ca710f904123df186bc5bc02d45ffffbaac1dfc52123fde1a1b05385db1322aeef734b708e223fb2f2cbda0c13f9c107f960bf44b206032089b92327d7ca74bca2227ba01fbb05d0d2c1ca63cd9ea1154a9a0f033adf669d8c876f657cd1e356aecb0ba060640d0431c13d93ceca1a6162a1b98a9bf7c4a60836f79ca7df87fdd5123000000000000000000000000ffff23a1eadf4e211350a07c982517dbb68e035f535cd6f29f09d4775639c7ec0100cdbc3445100add7f3b5c1274f5dac13ea2df113b712365299b5ac8dc4578946b2832f2ace888512c7ef1013b66fcfa2e380058307803346cb697cf765feb9efa25b874da026c408e54b8ddbd6b0ed697d85b9499cc86d7ec827c32e547d016dabee55cc70959405914000000000000000000000000ffff22dda00e4e210f12cbe56fc4748c4cb717c502041b29d87366bb5bf0c8d12ed0196934a5a6f41c6cdea6869df12dae669e6c1cf5d73305310725a8f935cc30af8b2ca2a680e2dd0e2865010002020065c371069ce618ef8c7ba018a6f6930b17212b9359c8e93c119069f64e89010000010000000cff0f0cff0f0eff37740a79e1073152b84ea925280aa5bd12af53045ad3d5a91b0dc8dc929f39d10e9817fe19624d66b7888483eccf738e3edb506a22da27de8fe201617b7f751c98f9d00d7cbc5e22ff656380aa9c0034e4d791389e517ba0d81ad03af24fa496cd342aa1131229d9956dbce42eb2821d953deabcf2a4b2f8e8ff125fdae80e745563918af1f53c79271dac6cd750373f50a7330573cdda06e638c91c541552b36bfbc9e1681f5cd40edc94c1cd3b8f0987482d8a603dde038ec78f637a6b488ca6936738e3dee5da0968b8c386ede373a03b6854152439c82fc98671f39016c8860e84ecd5a76aa8dee8b67c3a04ab6c702015cfcef72e2dde3d6cb1b166bba4d9614851b80fa2d558610157df65020065d9184bac1b7d894ece8e4fb48adf8bf3df073ced39d472b91c3883a046000000000000000cff0f0cff0f134a45e9b0f6fd24145965d01b3092b71c8b2c31add9c864b36b9afb0564509ba695168dbd3731eb20dac29782b0c4b3d661fff8f9abf68a6e90761b8919b7950a161e697db7531fbbe8aeac04b9f88511fb3bbde53d4ce075a688c2704dc8b809a052ea6bc38f452e247fd8b67de028589ea808ad68f1c1958c30e8c4fdba0d01d4e8f643ea34f7e07dbf1fe7e83610da8c53fb08b0f5c9f3ac439f12c6c33cd9949913a890e243d67bf56af1016a3a89b5cfa30224e6e78583155ac7375785d1722c69b4d2788469dcae000145cf05a618e09ca245ee995da23fb0894124340987c9978140692775b6dabe36c5d509bcc8920f848fc04b5326325bcb351958054795f918ba8b885936afa37eb611912e3df23eec5cd6a86edd509539028e2c3a3dc05315eb28f2baa43218ca080000d9184bac1b7d894ece8e4fb48adf8bf3df073ced39d472b91c3883a046000000010000000194d370095566343fe3cf43b722c7d6652597b11005dd9883be0689f9ae4c1a31010103000500010000000000000000000000000000000000000000000000000000000000000000ffffffff050280100101ffffffff020034e230040000001976a914c0aa7affe002c1189d021ea819c2160f7100ef0288ac004e5349060000001976a914c0aa7affe002c1189d021ea819c2160f7100ef0288ac00000000460200801000006ff9f8105563e0fb061ef0bdec17998ba5bb4cbc03823f415fd151cb9faa854d9b2f758e2d35ef31a4aacfb80632e563b628d8109e613325498630597aaa0fb3001fa27d217d28fe101e3ddfe04458e727f312d4497d972ecac4385783d9206f2eacfca3a3ad455b7729a7174240d35185a944420d7130ab391e498efd385e1a000000000000000000000000ffff23583e5c4e210981a33c9af0c3994fdbc3ab6253b855a9f5196d5c30d8f1c39872e50fd665d48b0cac9b52fc33fabad5d0f290ee5e2192d5bb098772cf8ed8873793c069018e56bbff9e012317651961ad3ae4c392e4ce43189c46391ea3e2bb9b94ef82798e07683898aca9feccfd91940491e4dd280b2cbd645379ce5940745f1492729975368f18000000000000000000000000ffff36b90f354e210079638c64a14669ec04e059154ba4dbcceb8150f958279696c2ec460b0193ecf37000bdcbc2281afede9559688eb0a095386648bd74282e1341815992154e9d71e337ad0185b4269dafa70f6b08a06033bd9fbb684fa47f179a63aaea66f09b5d30a0dc331052c4af397fb66db13afbd5a322dd8c23afb6a4508da9f0dfa628d00c12000000000000000000000000ffff34209b3f4e21935bb9eae3b52bf19057f6276898519fe5549e721d564c9fcf993197a12122e220d876e08d740530177cf409750113dd86d32e4b67c554de6d2135c7039bafaea68f648500865e485c328640d13b4ad0c80ebd7620e1c2aae836e30049e75c4994962bab754246dc6d696a3d7dbd79c8ee8020ef749376a1870a31091a2d90e4eb7d25000000000000000000000000ffff2358ef7e4e21114584677991f8eaa6030296846748abb721e30a33177a61592ae8d5a8c07225914c5141c97954910d65a76558cdee944bb31747694b85b76f448f635844e1b68eb406be01a7a876725a10aa312a5eab58c9f038d24a11f29cd5830fb20e677f73d86f4a53bf155e33f20c5dc6cec1e980d6164e5bcc009cc7c9369eec416c6bcc0926000000000000000000000000ffff22ddc3364e210f77f9bd3e658bcd239224f058205034c0398ea8d575f4795ee7e71099d47360592ffafb4adccee97800008482ae6caf3915e19832b4cd358a803f4e3001c3e2d1f88ca001c96864ced84be7267f94e5c641fcceffd355d117420f8d899d1e032dad65fa3b743161ad8c62a5da36580afe8db18a4a9e6d9bf376ffd3f310b64491ac1a000000000000000000000000ffff22db835e4e210dfada4a632174479c58d00d3e1972c503bed7a6e9afd6563380d009ae1ddc8a78683dc6ba33ed93c18427db3405c768ffa85b65932892ff79e09632101e6fcb146068df010b429223269d1ff92025c61ffc200690631c76da1ff8fb03326ae49e50600bd3a9feccfd91940491e4dd280b2cbd645379ce5940745f1492729975368f18000000000000000000000000ffff34270ab84e21148d10c5823f2e73486802e015ff32ae9c0d40008b8b0e28eafe8014a30338ca3c3b983452d078b46555834acef37d504a0f6263af5fa96f9e1248e463d43a99eeb51ba60198594754a6b28546e6d8e112686867c20936aa36fcfc29af2b019b3bf2e7c17c4246dc6d696a3d7dbd79c8ee8020ef749376a1870a31091a2d90e4eb7d25000000000000000000000000ffff23a52aa74e210e61e7e684c5dcfe2864f1fdadd36aa5ec4485cfc38bfdaa65a9cf52aab8da7305b8a5a04dd7521213e41b57e060d8f292999a284d04a370e426fd3d4a4f6c7867a6dee0015ad0076bda142e7e9d6c506d02d63c2bc637d165992026c3010417aa10f075442ab1622b1c5b0fd2558213b8e1e4ae187bc5772fb6f64f792bdcdac81e15000000000000000000000000ffff23a2e7a64e210a287c1c41f20264220e695ace88395c359ff9e9d94ead359bc78ee4ee8525a10eada8445127affa757db0739c6ab5c9e5c9bf2fc2898a962693b5d9136e661b008803d7005f4b95203e736575ae37fdae0acda4890c9cc06b1bbbb39b5cc56238ab7c9bc246594dd5d3e43178c477efd6f5051986507f36160ba8c20810acacefd80e000000000000000000000000ffff3644e8864e211387b7e90ada2aadd8bf27fbf362bc6a1938bc09624bb7e34caf505fb8c19e607826783d4fcb24151973f70324a95058034c19305ca2704fcd2f434121ef0544b43e1550012045008c9fb61b4278dc6aa53a0396de1cb6bca09cdd35523f790fbc81e016a1bd6b0ed697d85b9499cc86d7ec827c32e547d016dabee55cc70959405914000000000000000000000000ffff22dd2d804e21838d30ae8dacf5bc5db2d2d4dff6e0f67cb4df0c66747adb42fd6b98b7689d1ec54cbe778f605db526953e6d6c25ff336d8c418ad92074a423d99e4ec0ce52c00ecb4c4801a06ad4f5736397716b27555d8175abd5088c7ae431cb4487b04e6fc007586aac4246dc6d696a3d7dbd79c8ee8020ef749376a1870a31091a2d90e4eb7d25000000000000000000000000ffff22db4fb24e21844e56a388eaac738f10817403d2761992af9b8cdec6ed0c3d5fbf345e22b39ef47479231809521bf17c032a53f069b2886e8d3b5764112c41c23c1339351422aac02ce3014499e2827611d636b0ac935c8eb360bcd906151542c1dbe4495e4256eaddff7d90488c89099e6f9da4f8c3eedb204b59b7d6b685a21ae45a7c0381224911000000000000000000000000ffff36be9e1c4e2196ba7aa9ebb2383b3e3713a938c0c8cb911be900a2a74c8f8c29bc276cccef442e991198fd1d17ad4091f02fe6dcfec22cdd9cce53d846ce5b5b7670b77ef6604a4b79d501e4054498e317f06873d4b0bc7d6a284be34c4d1ae07ef1aa5450630b95aa79f84246dc6d696a3d7dbd79c8ee8020ef749376a1870a31091a2d90e4eb7d25000000000000000000000000ffff12ecce324e2102c576ad4856a6e8926be79b4fd834150e00d293627d61172e66168737e1078368f1eb0f14fc7cc4eee36aeb6441c2155b5bfd411f8e690e1cbfc3c0c8d6911f3459193d018a0660abe15fe891b3012689d186375624e358ce4e20c5347c13c18d38daa8a3b0354f284dbb5baac9a0ef0e2d66532aa1a1798da519dab9608be87fda00000000000000000000000000ffff22d249c94e2199d5a54726e217ed7350fa8d0dce76c58d1525c32c9799073d16293b6dd626a3e8d3a4498ca77775ca2bb70e68ca1655200c28114ba641a27755d2c53fe3513b2214c839016aab72c63516372c01cf70af24eb090619fc0147d076bf237d1a1d042f94e4640640d0431c13d93ceca1a6162a1b98a9bf7c4a60836f79ca7df87fdd5123000000000000000000000000ffff36d6be8e4e218c251baab202918fb6fe165606e7a0b325ca22db63bfdf2b18350ae14e6b0baa5730c753039a671e5c24d7fbc6097090564a662cb7cc3a3e943c78d224db3fef43f9834d012c4f1d22c965a166309e5030cadb31e0114d7b6cb70019a95cec76008ba3725e4246dc6d696a3d7dbd79c8ee8020ef749376a1870a31091a2d90e4eb7d25000000000000000000000000ffff12edb0da4e210b404ef5602b28b171d1bc4cd3b3f850a0c4a328fdb021bacf5beaee1fe4573ebf9bd174cd0c6657125aba31daeb7a0f46c7345e2ab8f582886b30a64e53de3500347cdf00acbb200b55ef5942c67488f3d16f88a7e02cf506d5cbdad381544a621a797fd21052c4af397fb66db13afbd5a322dd8c23afb6a4508da9f0dfa628d00c12000000000000000000000000ffff22dee8b84e2104bfadc894a7855412800db1941efc5284c0e19dd21512067e01bed98bfd939201e8bffd5de039177ef4ec15aa4c0bd50bb4bf449fc908fbb8ea7b7c4e2281f8704e54a701af7ef90f834b9975a14b0640800f503afaeb85d0e864a400a167c0b6acbb42fb919de82fede35f51e2ce061ebdc53d77497873dcaf9a43bcd24da1546e0b000000000000000000000000ffff36ca226f4e219117c6cce12009eca9ff41afafb6d549e4ee015a06e3232a053fdfd344f28bd1f787dcea71d4a647e2babbd3cfba5c85105aea7bd22d9328112ba0e49cc7149734f139f101af7bd2eb56e8b9254c013ae80ac2267c9ab87d64dd774306e8ae2e4d35855cb01052c4af397fb66db13afbd5a322dd8c23afb6a4508da9f0dfa628d00c12000000000000000000000000ffff22d96feb4e211201441bcdc0e523cc885d006fc8b6ff71578ea24ffbfabcf3f9afa7953601cfc8a49c152c29efde2662fddf2f4e3f845267532941be73923e05ea3885752cf3398c3fdb01f0286cb0d271036c33a0e8f448ff5244ac5933b58677b02efcc7baf507b597a390488c89099e6f9da4f8c3eedb204b59b7d6b685a21ae45a7c0381224911000000000000000000000000ffff22d158074e210a4b3082f7d7918df81b7b15e867bd35c7c729642fea5d9c7afe628b4976fc843068712db51ab1c77360dab75dd3a28209e32473dce7580ee782a2d7e947581ea4c88bcc0190ddd0caaaec9457cc18e9953fbccd46779eb35fd6853d09fed3ead849075342772dcee8f855f32e5654316618e4dc7d3dacb6210dff47ec9c8599671014000000000000000000000000ffff3424a6164e218d836b47be1ba461f488693ce3fa66e8782f80bc4aa2d6b5a15881f5b0871a15c3c87ad4a0f6f22b513b82f304fa7567cd1df94d978e4dcc6eeef5d53e226182627358fd01d0b26683589f121d96ccd9dd6026e9431d436f115e812fa29cac9f8b9d3cef1f1052c4af397fb66db13afbd5a322dd8c23afb6a4508da9f0dfa628d00c12000000000000000000000000ffff235779744e210ce6df6ec13f99b39fb83b0de01f87821ab51950be9444c170dedc6b2d3e44192cfbcebb12d77cd8b56c0d02ada981dad63eb4841b9d4d6ec0b585dd9558be50f4d2adf2005330ce416610e315947ad5f544e1c93f70e7a572c2da7706b77a5d64111d0248fca3a3ad455b7729a7174240d35185a944420d7130ab391e498efd385e1a000000000000000000000000ffff22d847074e2181976e87cd70e1e72dd22e745b33c1d84a13034113b48675cf3fb4e1e803611b05121e76344c630f235f9b236faca90f341b0cee046682764630293535427fa06db5e45101f344fd746ba50147d2afdce4cbde6250c0b4948a424c6c5c7e364f2dffd217a0743161ad8c62a5da36580afe8db18a4a9e6d9bf376ffd3f310b64491ac1a000000000000000000000000ffff12ecf4ec4e2193b9d6a7943212313f4bdce5715d1a78c83f5dca9f5595fd0e9f458c5e6bfd2c136c285dc19a7556835bfc2c0703b95ccb3f2963decf21ad52ccb2207319e6c9f907d4380114df5605d771bbcf44e6829711bb106370b77134c0da17222a79734f511ae722bd6b0ed697d85b9499cc86d7ec827c32e547d016dabee55cc70959405914000000000000000000000000ffff235664f54e219249c6e4858c09a5c31ea59e7390dea91d3e0a31b3e97d838c0933201893d27d674bf00b3bffc57cb7021a6e7c03b44a5af6e8b2699b24b12aa705ce4778607ca382fc030154afbee3a701139e6a88efce755a9a18a2080ceba45520e69fb0ec65195a4bccbd6b0ed697d85b9499cc86d7ec827c32e547d016dabee55cc70959405914000000000000000000000000ffff22d918294e21849ee88912fd4c7c33e4f1067df1c86a4f9a8b5a21688ec033401524982df527dd86ee5eb2ef3dbdd4d44d69372cd47e51fae3fdf02c30e3a066c8394d077eb54d3464b501b6ca9703d363fd91d2e64096fdd61c57b4e9335c1742957905448b0aa21b097ba9feccfd91940491e4dd280b2cbd645379ce5940745f1492729975368f18000000000000000000000000ffff23a1f79d4e218100d2337e02bd55d626b70064f6b4d69e9cdff6f76e85fd80694eab7017295bafa3cad44b02f3067167197bf9a38ebe603f27f844c4b62383b2dc5725d18cf41d37457e01b6abd61c343e5c179b11fdbccff62d6a0f4c87904754d6fa9e2c9792c665ccba7a72bda91fab7e73c544b1f186171016150b3da2fd727f24887c238bb40e000000000000000000000000ffff2358f7044e210ca710f904123df186bc5bc02d45ffffbaac1dfc52123fde1a1b05385db1322aeef734b708e223fb2f2cbda0c13f9c107f960bf44b206032089b92327d7ca74bca2227ba01fbb05d0d2c1ca63cd9ea1154a9a0f033adf669d8c876f657cd1e356aecb0ba060640d0431c13d93ceca1a6162a1b98a9bf7c4a60836f79ca7df87fdd5123000000000000000000000000ffff23a1eadf4e211350a07c982517dbb68e035f535cd6f29f09d4775639c7ec0100cdbc3445100add7f3b5c1274f5dac13ea2df113b712365299b5ac8dc4578946b2832f2ace888512c7ef1013b66fcfa2e380058307803346cb697cf765feb9efa25b874da026c408e54b8ddbd6b0ed697d85b9499cc86d7ec827c32e547d016dabee55cc70959405914000000000000000000000000ffff22dda00e4e210f12cbe56fc4748c4cb717c502041b29d87366bb5bf0c8d12ed0196934a5a6f41c6cdea6869df12dae669e6c1cf5d73305310725a8f935cc30af8b2ca2a680e2dd0e2865010002020065160df02725dbab464490a34480f847439a374dc8f8b12a2138539e66970c0000010000000cff0f0cff0f0c6a97ff03e3550cae93a33dc1fd8484ed11e6ea591ae84698f27cbeab0db175243213fde3900906005d835e96ed25443f2ca5adb6a1ffb1b906ad157b0d89c6bc902b7d725d8e5aadef46cda1f7764b873f4ec2588a1b53d8ca5f582059b966ad3adb699251ed854d02aa8e617d2075e17a7cd04e9c04ca7df76bc70182870a021e32b36f816f27826bc591a2caef1abc62a1cb7afdcf81f12c16e6677a4f890662d64b4ccf26a0b6ed0256ea91474704fb2804834609f2a82ea662596c8fc881bf4e62d645cfa6d56deb51854af873863cce4deeb35f0b7bea3cd30cbc25e4111b38bf2bb7409e65a0c07c710cdd99e414b644d2ee040dd70043fd54903e227014a0baf741ac1f010ccb3180b375b30200656660ac8e802cbb4bc44a8989d34a929c0cbc41c6f3dd1dfe32e9dab695000000000000000cff0f0cff0f014cc3b0c7781842ebe1e04b750c8fa8ac06fb8d4cdff81c8f99d801af0f9889c7a75ba21f66c2172cd21dcb295895c61e14d0195de8d1c5159b422e1c63f1bbeee270c8dbc025b34651d5dcd2fb7bbb9693c6b654eaa887ac8575e4ef6ee980f158d41df721c7c13ef91149f2060858b2a4655045182a959f9f1fbd93f611731703f94aa7a1155a78efdc18938074938ad7d0769e8eb490b1dffb80f060c9d80e2b5455815179c48404391bf76b30de186a0f08eb79f5a30e05995d128d2641ce9b3e2da07454d445c3ef0f99837bbf706946a0350df7a93acf7df552e9b181037796e8d898e952e0819712be85f777080ddb7a9fd931cf68742095d05ac2c9f31af3f5bdfb4c9d373901b2543691e02e3df23eec5cd6a86edd509539028e2c3a3dc05315eb28f2baa43218ca0800006660ac8e802cbb4bc44a8989d34a929c0cbc41c6f3dd1dfe32e9dab69500000001000000013b420d8a19e97631a88572bff873b895be851ff5969b03b993bad70d07a4d50b010103000500010000000000000000000000000000000000000000000000000000000000000000ffffffff050268100101ffffffff020034e230040000001976a914c0aa7affe002c1189d021ea819c2160f7100ef0288ac004e5349060000001976a914c0aa7affe002c1189d021ea819c2160f7100ef0288ac00000000460200681000006ff9f8105563e0fb061ef0bdec17998ba5bb4cbc03823f415fd151cb9faa854d1cdbfb9519069b9160fe282375670f7f611f823194f474e8399bcf49b17faf05001fa27d217d28fe101e3ddfe04458e727f312d4497d972ecac4385783d9206f2eacfca3a3ad455b7729a7174240d35185a944420d7130ab391e498efd385e1a000000000000000000000000ffff23583e5c4e210981a33c9af0c3994fdbc3ab6253b855a9f5196d5c30d8f1c39872e50fd665d48b0cac9b52fc33fabad5d0f290ee5e2192d5bb098772cf8ed8873793c069018e56bbff9e012317651961ad3ae4c392e4ce43189c46391ea3e2bb9b94ef82798e07683898aca9feccfd91940491e4dd280b2cbd645379ce5940745f1492729975368f18000000000000000000000000ffff36b90f354e210079638c64a14669ec04e059154ba4dbcceb8150f958279696c2ec460b0193ecf37000bdcbc2281afede9559688eb0a095386648bd74282e1341815992154e9d71e337ad0185b4269dafa70f6b08a06033bd9fbb684fa47f179a63aaea66f09b5d30a0dc331052c4af397fb66db13afbd5a322dd8c23afb6a4508da9f0dfa628d00c12000000000000000000000000ffff34209b3f4e21935bb9eae3b52bf19057f6276898519fe5549e721d564c9fcf993197a12122e220d876e08d740530177cf409750113dd86d32e4b67c554de6d2135c7039bafaea68f648500865e485c328640d13b4ad0c80ebd7620e1c2aae836e30049e75c4994962bab754246dc6d696a3d7dbd79c8ee8020ef749376a1870a31091a2d90e4eb7d25000000000000000000000000ffff2358ef7e4e21114584677991f8eaa6030296846748abb721e30a33177a61592ae8d5a8c07225914c5141c97954910d65a76558cdee944bb31747694b85b76f448f635844e1b68eb406be01a7a876725a10aa312a5eab58c9f038d24a11f29cd5830fb20e677f73d86f4a53bf155e33f20c5dc6cec1e980d6164e5bcc009cc7c9369eec416c6bcc0926000000000000000000000000ffff22ddc3364e210f77f9bd3e658bcd239224f058205034c0398ea8d575f4795ee7e71099d47360592ffafb4adccee97800008482ae6caf3915e19832b4cd358a803f4e3001c3e2d1f88ca001c96864ced84be7267f94e5c641fcceffd355d117420f8d899d1e032dad65fa3b743161ad8c62a5da36580afe8db18a4a9e6d9bf376ffd3f310b64491ac1a000000000000000000000000ffff22db835e4e210dfada4a632174479c58d00d3e1972c503bed7a6e9afd6563380d009ae1ddc8a78683dc6ba33ed93c18427db3405c768ffa85b65932892ff79e09632101e6fcb146068df010b429223269d1ff92025c61ffc200690631c76da1ff8fb03326ae49e50600bd3a9feccfd91940491e4dd280b2cbd645379ce5940745f1492729975368f18000000000000000000000000ffff34270ab84e21148d10c5823f2e73486802e015ff32ae9c0d40008b8b0e28eafe8014a30338ca3c3b983452d078b46555834acef37d504a0f6263af5fa96f9e1248e463d43a99eeb51ba60198594754a6b28546e6d8e112686867c20936aa36fcfc29af2b019b3bf2e7c17c4246dc6d696a3d7dbd79c8ee8020ef749376a1870a31091a2d90e4eb7d25000000000000000000000000ffff23a52aa74e210e61e7e684c5dcfe2864f1fdadd36aa5ec4485cfc38bfdaa65a9cf52aab8da7305b8a5a04dd7521213e41b57e060d8f292999a284d04a370e426fd3d4a4f6c7867a6dee0015ad0076bda142e7e9d6c506d02d63c2bc637d165992026c3010417aa10f075442ab1622b1c5b0fd2558213b8e1e4ae187bc5772fb6f64f792bdcdac81e15000000000000000000000000ffff23a2e7a64e210a287c1c41f20264220e695ace88395c359ff9e9d94ead359bc78ee4ee8525a10eada8445127affa757db0739c6ab5c9e5c9bf2fc2898a962693b5d9136e661b008803d7005f4b95203e736575ae37fdae0acda4890c9cc06b1bbbb39b5cc56238ab7c9bc246594dd5d3e43178c477efd6f5051986507f36160ba8c20810acacefd80e000000000000000000000000ffff3644e8864e211387b7e90ada2aadd8bf27fbf362bc6a1938bc09624bb7e34caf505fb8c19e607826783d4fcb24151973f70324a95058034c19305ca2704fcd2f434121ef0544b43e1550012045008c9fb61b4278dc6aa53a0396de1cb6bca09cdd35523f790fbc81e016a1bd6b0ed697d85b9499cc86d7ec827c32e547d016dabee55cc70959405914000000000000000000000000ffff22dd2d804e21838d30ae8dacf5bc5db2d2d4dff6e0f67cb4df0c66747adb42fd6b98b7689d1ec54cbe778f605db526953e6d6c25ff336d8c418ad92074a423d99e4ec0ce52c00ecb4c4801a06ad4f5736397716b27555d8175abd5088c7ae431cb4487b04e6fc007586aac4246dc6d696a3d7dbd79c8ee8020ef749376a1870a31091a2d90e4eb7d25000000000000000000000000ffff22db4fb24e21844e56a388eaac738f10817403d2761992af9b8cdec6ed0c3d5fbf345e22b39ef47479231809521bf17c032a53f069b2886e8d3b5764112c41c23c1339351422aac02ce3014499e2827611d636b0ac935c8eb360bcd906151542c1dbe4495e4256eaddff7d90488c89099e6f9da4f8c3eedb204b59b7d6b685a21ae45a7c0381224911000000000000000000000000ffff36be9e1c4e2196ba7aa9ebb2383b3e3713a938c0c8cb911be900a2a74c8f8c29bc276cccef442e991198fd1d17ad4091f02fe6dcfec22cdd9cce53d846ce5b5b7670b77ef6604a4b79d501e4054498e317f06873d4b0bc7d6a284be34c4d1ae07ef1aa5450630b95aa79f84246dc6d696a3d7dbd79c8ee8020ef749376a1870a31091a2d90e4eb7d25000000000000000000000000ffff12ecce324e2102c576ad4856a6e8926be79b4fd834150e00d293627d61172e66168737e1078368f1eb0f14fc7cc4eee36aeb6441c2155b5bfd411f8e690e1cbfc3c0c8d6911f3459193d018a0660abe15fe891b3012689d186375624e358ce4e20c5347c13c18d38daa8a3b0354f284dbb5baac9a0ef0e2d66532aa1a1798da519dab9608be87fda00000000000000000000000000ffff22d249c94e2199d5a54726e217ed7350fa8d0dce76c58d1525c32c9799073d16293b6dd626a3e8d3a4498ca77775ca2bb70e68ca1655200c28114ba641a27755d2c53fe3513b2214c839016aab72c63516372c01cf70af24eb090619fc0147d076bf237d1a1d042f94e4640640d0431c13d93ceca1a6162a1b98a9bf7c4a60836f79ca7df87fdd5123000000000000000000000000ffff36d6be8e4e218c251baab202918fb6fe165606e7a0b325ca22db63bfdf2b18350ae14e6b0baa5730c753039a671e5c24d7fbc6097090564a662cb7cc3a3e943c78d224db3fef43f9834d012c4f1d22c965a166309e5030cadb31e0114d7b6cb70019a95cec76008ba3725e4246dc6d696a3d7dbd79c8ee8020ef749376a1870a31091a2d90e4eb7d25000000000000000000000000ffff12edb0da4e210b404ef5602b28b171d1bc4cd3b3f850a0c4a328fdb021bacf5beaee1fe4573ebf9bd174cd0c6657125aba31daeb7a0f46c7345e2ab8f582886b30a64e53de3500347cdf00acbb200b55ef5942c67488f3d16f88a7e02cf506d5cbdad381544a621a797fd21052c4af397fb66db13afbd5a322dd8c23afb6a4508da9f0dfa628d00c12000000000000000000000000ffff22dee8b84e2104bfadc894a7855412800db1941efc5284c0e19dd21512067e01bed98bfd939201e8bffd5de039177ef4ec15aa4c0bd50bb4bf449fc908fbb8ea7b7c4e2281f8704e54a701af7ef90f834b9975a14b0640800f503afaeb85d0e864a400a167c0b6acbb42fb919de82fede35f51e2ce061ebdc53d77497873dcaf9a43bcd24da1546e0b000000000000000000000000ffff36ca226f4e219117c6cce12009eca9ff41afafb6d549e4ee015a06e3232a053fdfd344f28bd1f787dcea71d4a647e2babbd3cfba5c85105aea7bd22d9328112ba0e49cc7149734f139f101af7bd2eb56e8b9254c013ae80ac2267c9ab87d64dd774306e8ae2e4d35855cb01052c4af397fb66db13afbd5a322dd8c23afb6a4508da9f0dfa628d00c12000000000000000000000000ffff22d96feb4e211201441bcdc0e523cc885d006fc8b6ff71578ea24ffbfabcf3f9afa7953601cfc8a49c152c29efde2662fddf2f4e3f845267532941be73923e05ea3885752cf3398c3fdb01f0286cb0d271036c33a0e8f448ff5244ac5933b58677b02efcc7baf507b597a390488c89099e6f9da4f8c3eedb204b59b7d6b685a21ae45a7c0381224911000000000000000000000000ffff22d158074e210a4b3082f7d7918df81b7b15e867bd35c7c729642fea5d9c7afe628b4976fc843068712db51ab1c77360dab75dd3a28209e32473dce7580ee782a2d7e947581ea4c88bcc0190ddd0caaaec9457cc18e9953fbccd46779eb35fd6853d09fed3ead849075342772dcee8f855f32e5654316618e4dc7d3dacb6210dff47ec9c8599671014000000000000000000000000ffff3424a6164e218d836b47be1ba461f488693ce3fa66e8782f80bc4aa2d6b5a15881f5b0871a15c3c87ad4a0f6f22b513b82f304fa7567cd1df94d978e4dcc6eeef5d53e226182627358fd01d0b26683589f121d96ccd9dd6026e9431d436f115e812fa29cac9f8b9d3cef1f1052c4af397fb66db13afbd5a322dd8c23afb6a4508da9f0dfa628d00c12000000000000000000000000ffff235779744e210ce6df6ec13f99b39fb83b0de01f87821ab51950be9444c170dedc6b2d3e44192cfbcebb12d77cd8b56c0d02ada981dad63eb4841b9d4d6ec0b585dd9558be50f4d2adf2005330ce416610e315947ad5f544e1c93f70e7a572c2da7706b77a5d64111d0248fca3a3ad455b7729a7174240d35185a944420d7130ab391e498efd385e1a000000000000000000000000ffff22d847074e2181976e87cd70e1e72dd22e745b33c1d84a13034113b48675cf3fb4e1e803611b05121e76344c630f235f9b236faca90f341b0cee046682764630293535427fa06db5e45101f344fd746ba50147d2afdce4cbde6250c0b4948a424c6c5c7e364f2dffd217a0743161ad8c62a5da36580afe8db18a4a9e6d9bf376ffd3f310b64491ac1a000000000000000000000000ffff12ecf4ec4e2193b9d6a7943212313f4bdce5715d1a78c83f5dca9f5595fd0e9f458c5e6bfd2c136c285dc19a7556835bfc2c0703b95ccb3f2963decf21ad52ccb2207319e6c9f907d4380114df5605d771bbcf44e6829711bb106370b77134c0da17222a79734f511ae722bd6b0ed697d85b9499cc86d7ec827c32e547d016dabee55cc70959405914000000000000000000000000ffff235664f54e219249c6e4858c09a5c31ea59e7390dea91d3e0a31b3e97d838c0933201893d27d674bf00b3bffc57cb7021a6e7c03b44a5af6e8b2699b24b12aa705ce4778607ca382fc030154afbee3a701139e6a88efce755a9a18a2080ceba45520e69fb0ec65195a4bccbd6b0ed697d85b9499cc86d7ec827c32e547d016dabee55cc70959405914000000000000000000000000ffff22d918294e21849ee88912fd4c7c33e4f1067df1c86a4f9a8b5a21688ec033401524982df527dd86ee5eb2ef3dbdd4d44d69372cd47e51fae3fdf02c30e3a066c8394d077eb54d3464b501b6ca9703d363fd91d2e64096fdd61c57b4e9335c1742957905448b0aa21b097ba9feccfd91940491e4dd280b2cbd645379ce5940745f1492729975368f18000000000000000000000000ffff23a1f79d4e218100d2337e02bd55d626b70064f6b4d69e9cdff6f76e85fd80694eab7017295bafa3cad44b02f3067167197bf9a38ebe603f27f844c4b62383b2dc5725d18cf41d37457e01b6abd61c343e5c179b11fdbccff62d6a0f4c87904754d6fa9e2c9792c665ccba7a72bda91fab7e73c544b1f186171016150b3da2fd727f24887c238bb40e000000000000000000000000ffff2358f7044e210ca710f904123df186bc5bc02d45ffffbaac1dfc52123fde1a1b05385db1322aeef734b708e223fb2f2cbda0c13f9c107f960bf44b206032089b92327d7ca74bca2227ba01fbb05d0d2c1ca63cd9ea1154a9a0f033adf669d8c876f657cd1e356aecb0ba060640d0431c13d93ceca1a6162a1b98a9bf7c4a60836f79ca7df87fdd5123000000000000000000000000ffff23a1eadf4e211350a07c982517dbb68e035f535cd6f29f09d4775639c7ec0100cdbc3445100add7f3b5c1274f5dac13ea2df113b712365299b5ac8dc4578946b2832f2ace888512c7ef1013b66fcfa2e380058307803346cb697cf765feb9efa25b874da026c408e54b8ddbd6b0ed697d85b9499cc86d7ec827c32e547d016dabee55cc70959405914000000000000000000000000ffff22dda00e4e210f12cbe56fc4748c4cb717c502041b29d87366bb5bf0c8d12ed0196934a5a6f41c6cdea6869df12dae669e6c1cf5d73305310725a8f935cc30af8b2ca2a680e2dd0e28650100020200652c95b26c7179e24e65b1fed36c3e11cee25d762e21533fc045f963ea5e020000010000000cef0f0cff0f1421fb4b6e0ecd17d7c11ee8c85573cef47ade2e45129c21cdcab094dbfcf5f4d5a6bdc71a1a1f9cb710f3b036dd3d173302a271ed0521faf26ae6a0292b1f9f10868e247921c67931f46fe8cc46d0498679ac2a01e3e68de13fa667dd623d7ab6aaa2d5edc9ce33176b35c93b62866429e850b1cba87964be9f45195bed3e7f19e8a9acdc2b944ef11426bb8e3aeb5af46d0f997be19ca86130d6c57621d5bd1848760b6623ec0acf0c985dd4ea1726107a69a0de346dc79949721bc7924685b3288177f9b1fe499d1090808fb6385cca108fb2fc999b5a791817e0dc0003960254819c6ae2dd40f2b2f424dc5e93ff89efab1fe1455bfbd66b675379f4a9b4a65aaf7b70a9bc3fc1fffc485f674591020065f03efe3b94ff38b8897bd7fd8ae98d12b2cae6cf89477eaea41258f04b020000000000000cff0f0cff0f81070fb37c574c6f02eeb5d14d62a7ef2114ba5dea958131e458dc0a02565f5e1559720bbad4c07b6cbbab621c354adfdea1f9503ca137afbcc701200fb42be0a4e960cbc9939b35001357b9c720d2098b47688f04630cfdca66f7f6ece1379d2739f8736e72262a0b777c28b4002192a8f7563a555be049e33ed9bf62bbe2680742d9ae05cd27b2bffa9f1d44f30eebbe8afd9b2d210669a160d99d2927c357e80262269dcdd5b7901bb4ef1373d65189b9e7c0fc0f4fd7b2a5e12536b1923759c9c5bc85f93591ad0272abfe61e7cda4ee92b2deee8cb5e57134df4456788214296e4e33c9a941efc8ca54e2ac8c311caf337e0e8506a80f27924a2522cd37cbd280e3d2ffa60c83dee40f8fbea521");
    TestNet3Params PARAMS = TestNet3Params.get();

    @Test
    public void roundTripTest() {
        QuorumRotationInfo quorumRotationInfo = new QuorumRotationInfo(PARAMS, payloadOne);
        assertArrayEquals(payloadOne, quorumRotationInfo.bitcoinSerialize());
    }


    @Test
    public void quorumRotationInfoTest() throws FileNotFoundException, IOException, NullPointerException,
            BlockStoreException, MasternodeListDiffException {
        QuorumRotationInfo qrinfo = new QuorumRotationInfo(PARAMS);
        qrinfo.setQuorumSnapshotAtHMinusC(
                new QuorumSnapshot(Arrays.asList(true, true, true, true, true), 1, Arrays.asList(1,1))
        );
        qrinfo.setQuorumSnapshotAtHMinus2C(
                new QuorumSnapshot(Arrays.asList(false, true, true, true, true), 0, Lists.newArrayList())
        );
        qrinfo.setQuorumSnapshotAtHMinus3C(
                new QuorumSnapshot(Arrays.asList(false, false, false, true, true), 0, Lists.newArrayList())
        );
        qrinfo.setMnListDiffTip(new SimplifiedMasternodeListDiff(PARAMS,
                Sha256Hash.wrap("00000bafbc94add76cb75e2ec92894837288a481e5c005f6563d91623bf8bc2c"),
                Sha256Hash.wrap("512157e793d0cf790b6e6305efebcb2745dfc279ae9ef3b8cc0c8ff1c29d978d"),
                new PartialMerkleTree(PARAMS, HEX.decode("01000000010e45d82414995ed1c23f546c35afa316499c09b870dd0a3c15796c4ccfdc00c40101"), 0),
                new Transaction(PARAMS, HEX.decode("03000500010000000000000000000000000000000000000000000000000000000000000000ffffffff050205040101ffffffff038d0cb75b0300000023210285c760cb2fd04fc7ff217cfd1c66594ba47247c29eed85949f43e80f57b53727acd94e854a030000001976a91471d69c816b5ad8718c800607fef3a47221078d6088acb0bd3111000000001976a914a73955c08d561a22a399513e1c5d3983d110701d88ac000000004602000504000042696f1f2db709cde94efa6f8de3e5c5ffda082fcb3f9d81b5929849385667bd3394b4b77e40afd081094fb55b49a94f39bc6910146b5010b9d6af082f15545a"), 0),
                Arrays.asList(
                        new SimplifiedMasternodeListEntry(PARAMS,
                                Sha256Hash.wrap("663b2fb8bb620db387f7268ccdf261d0739b3b734080487736560536f9da67c0"),
                                Sha256Hash.wrap("5fcef4606b48e92b611df852b12974e549fc385a7097d2370a7bd0bad8cbb055"),
                                new MasternodeAddress("127.0.0.1", 13998),
                                new KeyId(Address.fromBase58(PARAMS, "yhedxEwiZ162jKCd3WpvWgWWocDiciJuKk").getHash()),
                                new BLSLazyPublicKey(PARAMS, HEX.decode("8c3a4249f6e1597ac13fce64b91361ebf6d0837d5a95736549b88826868c34c7c8ede2da665e2702708fc431c9eb231b"), 0),
                                true
                        ),
                        new SimplifiedMasternodeListEntry(PARAMS,
                                Sha256Hash.wrap("beba26ecf8a70d13898cdf463dc2b29b3111999d9ad7bb3b1bd270c38ec64a46"),
                                Sha256Hash.wrap("63f2bb5920d1a0c27c9689d62c6834a314584fcd7b2bf52388c1dcc2c987f2ec"),
                                new MasternodeAddress("127.0.0.1", 13999),
                                new KeyId(Address.fromBase58(PARAMS, "yZLegVnDt5t4KZAiXiH2M88LbvkHxRnXL5").getHash()),
                                new BLSLazyPublicKey(PARAMS, HEX.decode("1185482390215003acac18979f4090b5cb4f2a7abd54a0e25b676d681bb6b53853488a74a014863403eab95b47afa017"), 0),
                                true
                        ),
                        new SimplifiedMasternodeListEntry(PARAMS,
                                Sha256Hash.wrap("67eb2b533192cd354e9571cb361c5fb2f3a40847aed1b0983a18164f650542d4"),
                                Sha256Hash.wrap("17ac84060b137d5e2c19bc4f2fa030fd4c49aedc77c64380251d7c22bf78e560"),
                                new MasternodeAddress("127.0.0.1", 13995),
                                new KeyId(Address.fromBase58(PARAMS, "ygo4ZEACuXGWygecqexNvLR2ryPV6LJBXh").getHash()),
                                new BLSLazyPublicKey(PARAMS, HEX.decode("1904bd1b479ff9fb5d99996575e4bdad5fefad11adf58de8e75d1b6e4964adf8b55d9e4f9432d56df6bef67f2ad68cda"), 0),
                                true
                        ),
                        new SimplifiedMasternodeListEntry(PARAMS,
                                Sha256Hash.wrap("f4bb17991ade54751bae0d192102ffa1fe9428085f459acf22a34f061e5b2a18"),
                                Sha256Hash.wrap("50cc1bc3de661f923afd38e608a5b4fbd1b608cba85d050e7380cbbbe4fc41ff"),
                                new MasternodeAddress("127.0.0.1", 13997),
                                new KeyId(Address.fromBase58(PARAMS, "yiyRqpgyVXTw3SGyWMVNeWS5YMNC56MMnW").getHash()),
                                new BLSLazyPublicKey(PARAMS, HEX.decode("0579dccf1de4e4bbf5f69bd1ccf5df2dd327d32b49e3789ec823858bb4fc3fef32c214461ca16151e7c5176573291429"), 0),
                                true
                        )
                ),
                Arrays.asList(
                        new FinalCommitment(PARAMS, 2,100, Sha256Hash.wrap("0e66f9273a2de1905244de60faf55bb6ec795cc6c66607f2c0cf9264e224d02d"),
                                0, 4, HEX.decode("0f"), 4, HEX.decode("0f"),
                                HEX.decode("0f10444bd28d6a0993224baef8ad9b5c6fcdb246b268ef36928e9b9594e1e0e8679b867a16914c55d129007b07169767"),
                                Sha256Hash.wrap("a689bbe717b3e6ad6ea82d56dcd39cac0fc59b78849277519916be7422e2656c"),
                                new BLSLazySignature(PARAMS, HEX.decode("0ab9c10a55e71608c4adb77e7fcf3aa060d26ee243c8bee3fa0a5af04e79a628974444a68c3bdc289d5a4141c7e5ba5c15a3f0f40c4f16dd4cdb2cb42223ecd842a238c9937ce6c5b065dfebc35fd4a0c64aac0358a1095cfae7c3fedf6063eb"), 0),
                                new BLSLazySignature(PARAMS, HEX.decode("10a116918d6d5e44732178c68076cc640b884ea91a83072b4205056af2682c6ee65b32d7f49bd38e349cdbd5b2292f3904d1e1c4a17e45bd94d4d1d5c89a9eaade467dd208d8878cb4fed3afb8b2eada4b5cd10ba65c9c8356c5bc54fdd22834"), 0)
                        ),
                        new FinalCommitment(PARAMS, 2,100, Sha256Hash.wrap("6a8908985dac8faaf2edeeb5fc581ca8cfd13ab8a0d054283b10241d9cd74ee7"),
                                1, 4, HEX.decode("0f"), 4, HEX.decode("0f"),
                                HEX.decode("01debc67e536f44b62b0558b6c3a15e7b0ea96b31b284875a9ca8d29ed7b214a75586095bdaf587daac6db781341512c"),
                                Sha256Hash.wrap("1283ed47e65a4a6b8696baee4e58982db52f2cc8a2b9f49ae45fdad31f6d5e8f"),
                                new BLSLazySignature(PARAMS, HEX.decode("0b0f242f2c157df7a6b86d6de735088c230f654787cb45a23d299e9b9adb17b2382e14160f4181108198a3efe50ca3351298186b2be82c622ffda6c2cfde2007c080db44ef97e088b1127f3286f7220c1ed87993d6f186a5085764cc911a4c48"),0),
                                new BLSLazySignature(PARAMS, HEX.decode("82035bfe76e6ddf3a88d141512e5624ab3cd04596d7afaf928352e76d55bb819a5183a9aeb9a604bb23a40f371dc34f500c2738f4e3147c909d8ba384ce26c13b5695fca04e16e59064b2e53632fd8314a08bc81b49a7555eeda5cdc79f71a7c"), 0)
                                ),
                        new FinalCommitment(PARAMS, 1,102, Sha256Hash.wrap("0e66f9273a2de1905244de60faf55bb6ec795cc6c66607f2c0cf9264e224d02d"),
                                0, 3, HEX.decode("07"), 3, HEX.decode("07"),
                                HEX.decode("05a55e3fea0341d7f1985a1d5cefa20536bbe56df49c3bddff19ba8ec23ae20956cd1bf4718c6c33b8901583de3b5455"),
                                Sha256Hash.wrap("bb78ee19643d2bc92334e4d630edab7fde7be90549525121b6db97ecace5524a"),
                                new BLSLazySignature(PARAMS, HEX.decode("94a41ea4095cd7d4ca5db33018eb2df3abb9f51ea74653db1dc2832a45f683d96cd0cd209458ece30c6f6b908c53687a0e428b6763db9c65bcc753509fb919e4643d52c759ff8285724840677be35e7db3f9981bb93c36ba41f51afeb386a511"), 0),
                                new BLSLazySignature(PARAMS, HEX.decode("89befef3e3c509192d843c426df9c7316c6cb63ec4bc2c50744d0ac33a769283df7b645a965c3dba9e008b258bbe8bb7016774fc81d31e85ac34cb844a8c572dc6b2d6576b65df0fb09114c964c315fc66ea22b1911ed26fb82d39b9635b18b9"), 0)
                                ),
                        new FinalCommitment(PARAMS, 1, 102, Sha256Hash.wrap("0e66f9273a2de1905244de60faf55bb6ec795cc6c66607f2c0cf9264e224d02d"),
                                0, 3, HEX.decode("07"), 3, HEX.decode("07"),
                                HEX.decode("92470c6e0268b1cd8f326e673c952fcbb5b0dd8f7f28dd0bb4a7d14023f69bab475f2aff3930b00bc040c211e0363272"),
                                Sha256Hash.wrap("c82cbf83d68d2a9598ebd14798d7544485659884dad31d0305c9e01969031769"),
                                new BLSLazySignature(PARAMS, HEX.decode("94c3181a766833b06ce5b4d4c83534da6665974f81e2d9fe6e4eb644ea9c033fcaf62cdc244a82a8453261043cb55f4006d62f310dfe918c292663a2abb19df253ddf67db2c4df126edaa2b21a61dbc9af8fc0a36fce55b8bf14a57f7edb60ca"), 0),
                                new BLSLazySignature(PARAMS, HEX.decode("94be970450945d578263d08ab524d995e253db865d7195671f2c48a0baff7d2b6c9f17f79abf8247244459c60104d8da0efe78a709db8e85e1047fa620365bcf31f9f488aaf27a46cf1ba33d768cf6ea66ee02777ef0b42b2d92e16011517438"), 0)
                                )
                )
        ));
        qrinfo.setMnListDiffAtHMinusC(new SimplifiedMasternodeListDiff(PARAMS,
                Sha256Hash.wrap("00000bafbc94add76cb75e2ec92894837288a481e5c005f6563d91623bf8bc2c"),
                Sha256Hash.wrap("254b1bdd055a27cd8cb59572e9157ff204e6559ad31a2cb7184fab60134305ae"),
                new PartialMerkleTree(PARAMS, HEX.decode("01000000013add9c9f92caf1812de45d1a3bba7f31a3f5cb820927023d5cf052b3310beb360101"), 0),
                new Transaction(PARAMS, HEX.decode("03000500010000000000000000000000000000000000000000000000000000000000000000ffffffff0502d8030101ffffffff03652a3dbb0300000023210341e286feb673b48b7220321665363cfbbc137625c8dd5d83a3056303f60a43a7ac9a5722a8030000001976a91471d69c816b5ad8718c800607fef3a47221078d6088acc4d21a13000000001976a914a73955c08d561a22a399513e1c5d3983d110701d88ac00000000460200d803000042696f1f2db709cde94efa6f8de3e5c5ffda082fcb3f9d81b5929849385667bd0000000000000000000000000000000000000000000000000000000000000000"), 0),
                Arrays.asList(
                        new SimplifiedMasternodeListEntry(PARAMS,
                                Sha256Hash.wrap("663b2fb8bb620db387f7268ccdf261d0739b3b734080487736560536f9da67c0"),
                                Sha256Hash.wrap("5fcef4606b48e92b611df852b12974e549fc385a7097d2370a7bd0bad8cbb055"),
                                new MasternodeAddress("127.0.0.1", 13998),
                                new KeyId(Address.fromBase58(PARAMS, "yhedxEwiZ162jKCd3WpvWgWWocDiciJuKk").getHash()),
                                new BLSLazyPublicKey(PARAMS, HEX.decode("8c3a4249f6e1597ac13fce64b91361ebf6d0837d5a95736549b88826868c34c7c8ede2da665e2702708fc431c9eb231b"), 0),
                                true
                        ),
                        new SimplifiedMasternodeListEntry(PARAMS,
                                Sha256Hash.wrap("beba26ecf8a70d13898cdf463dc2b29b3111999d9ad7bb3b1bd270c38ec64a46"),
                                Sha256Hash.wrap("63f2bb5920d1a0c27c9689d62c6834a314584fcd7b2bf52388c1dcc2c987f2ec"),
                                new MasternodeAddress("127.0.0.1", 13999),
                                new KeyId(Address.fromBase58(PARAMS, "yZLegVnDt5t4KZAiXiH2M88LbvkHxRnXL5").getHash()),
                                new BLSLazyPublicKey(PARAMS, HEX.decode("1185482390215003acac18979f4090b5cb4f2a7abd54a0e25b676d681bb6b53853488a74a014863403eab95b47afa017"), 0),
                                true
                        ),
                        new SimplifiedMasternodeListEntry(PARAMS,
                                Sha256Hash.wrap("67eb2b533192cd354e9571cb361c5fb2f3a40847aed1b0983a18164f650542d4"),
                                Sha256Hash.wrap("17ac84060b137d5e2c19bc4f2fa030fd4c49aedc77c64380251d7c22bf78e560"),
                                new MasternodeAddress("127.0.0.1", 13995),
                                new KeyId(Address.fromBase58(PARAMS, "ygo4ZEACuXGWygecqexNvLR2ryPV6LJBXh").getHash()),
                                new BLSLazyPublicKey(PARAMS, HEX.decode("1904bd1b479ff9fb5d99996575e4bdad5fefad11adf58de8e75d1b6e4964adf8b55d9e4f9432d56df6bef67f2ad68cda"), 0),
                                true
                        ),
                        new SimplifiedMasternodeListEntry(PARAMS,
                                Sha256Hash.wrap("f4bb17991ade54751bae0d192102ffa1fe9428085f459acf22a34f061e5b2a18"),
                                Sha256Hash.wrap("50cc1bc3de661f923afd38e608a5b4fbd1b608cba85d050e7380cbbbe4fc41ff"),
                                new MasternodeAddress("127.0.0.1", 13997),
                                new KeyId(Address.fromBase58(PARAMS, "yiyRqpgyVXTw3SGyWMVNeWS5YMNC56MMnW").getHash()),
                                new BLSLazyPublicKey(PARAMS, HEX.decode("0579dccf1de4e4bbf5f69bd1ccf5df2dd327d32b49e3789ec823858bb4fc3fef32c214461ca16151e7c5176573291429"), 0),
                                true
                        )
                ),
                Lists.newArrayList()
        ));
        qrinfo.setMnListDiffAtHMinus2C(new SimplifiedMasternodeListDiff(PARAMS,
                Sha256Hash.wrap("00000bafbc94add76cb75e2ec92894837288a481e5c005f6563d91623bf8bc2c"),
                Sha256Hash.wrap("443ba06eb11d60f186ba3d91ec94fb6811461276b268ac1bf41862d5461a5977"),
                new PartialMerkleTree(PARAMS, HEX.decode("0100000001513d1ac0faec415f67b38b57e729fa5bdd9c018ec01496fcc1a37917c1a2cba00101"), 0),
                new Transaction(PARAMS, HEX.decode("03000500010000000000000000000000000000000000000000000000000000000000000000ffffffff0502c0030101ffffffff03652a3dbb030000002321020fbe2d1fa5dff237073e1bd07ad058ba6ebd10178fd4b5bbc7cc243288d424a3ac38ee949e030000001976a9140cbc15d5d0979efe0f5f384cd071ef167f64b7a388ac263ca81c000000001976a914ebed2fa555deaa7bc0e9e56fd3d1fb5e7d02914b88ac00000000460200c003000042696f1f2db709cde94efa6f8de3e5c5ffda082fcb3f9d81b5929849385667bd0000000000000000000000000000000000000000000000000000000000000000"), 0),
                Arrays.asList(
                        new SimplifiedMasternodeListEntry(PARAMS,
                                Sha256Hash.wrap("663b2fb8bb620db387f7268ccdf261d0739b3b734080487736560536f9da67c0"),
                                Sha256Hash.wrap("5fcef4606b48e92b611df852b12974e549fc385a7097d2370a7bd0bad8cbb055"),
                                new MasternodeAddress("127.0.0.1", 13998),
                                new KeyId(Address.fromBase58(PARAMS, "yhedxEwiZ162jKCd3WpvWgWWocDiciJuKk").getHash()),
                                new BLSLazyPublicKey(PARAMS, HEX.decode("8c3a4249f6e1597ac13fce64b91361ebf6d0837d5a95736549b88826868c34c7c8ede2da665e2702708fc431c9eb231b"), 0),
                                true
                        ),
                        new SimplifiedMasternodeListEntry(PARAMS,
                                Sha256Hash.wrap("beba26ecf8a70d13898cdf463dc2b29b3111999d9ad7bb3b1bd270c38ec64a46"),
                                Sha256Hash.wrap("63f2bb5920d1a0c27c9689d62c6834a314584fcd7b2bf52388c1dcc2c987f2ec"),
                                new MasternodeAddress("127.0.0.1", 13999),
                                new KeyId(Address.fromBase58(PARAMS, "yZLegVnDt5t4KZAiXiH2M88LbvkHxRnXL5").getHash()),
                                new BLSLazyPublicKey(PARAMS, HEX.decode("1185482390215003acac18979f4090b5cb4f2a7abd54a0e25b676d681bb6b53853488a74a014863403eab95b47afa017"), 0),
                                true
                        ),
                        new SimplifiedMasternodeListEntry(PARAMS,
                                Sha256Hash.wrap("67eb2b533192cd354e9571cb361c5fb2f3a40847aed1b0983a18164f650542d4"),
                                Sha256Hash.wrap("17ac84060b137d5e2c19bc4f2fa030fd4c49aedc77c64380251d7c22bf78e560"),
                                new MasternodeAddress("127.0.0.1", 13995),
                                new KeyId(Address.fromBase58(PARAMS, "ygo4ZEACuXGWygecqexNvLR2ryPV6LJBXh").getHash()),
                                new BLSLazyPublicKey(PARAMS, HEX.decode("1904bd1b479ff9fb5d99996575e4bdad5fefad11adf58de8e75d1b6e4964adf8b55d9e4f9432d56df6bef67f2ad68cda"), 0),
                                true
                        ),
                        new SimplifiedMasternodeListEntry(PARAMS,
                                Sha256Hash.wrap("f4bb17991ade54751bae0d192102ffa1fe9428085f459acf22a34f061e5b2a18"),
                                Sha256Hash.wrap("50cc1bc3de661f923afd38e608a5b4fbd1b608cba85d050e7380cbbbe4fc41ff"),
                                new MasternodeAddress("127.0.0.1", 13997),
                                new KeyId(Address.fromBase58(PARAMS, "yiyRqpgyVXTw3SGyWMVNeWS5YMNC56MMnW").getHash()),
                                new BLSLazyPublicKey(PARAMS, HEX.decode("0579dccf1de4e4bbf5f69bd1ccf5df2dd327d32b49e3789ec823858bb4fc3fef32c214461ca16151e7c5176573291429"), 0),
                                true
                        )
                ),
                Lists.newArrayList()
        ));
        qrinfo.setMnListDiffAtHMinus3C(new SimplifiedMasternodeListDiff(PARAMS,
                Sha256Hash.wrap("00000bafbc94add76cb75e2ec92894837288a481e5c005f6563d91623bf8bc2c"),
                Sha256Hash.wrap("6f5d13e68c1b2c780a4375cea00d026aba2e055e2b47f26d68ce22bdcec9cfcd"),
                new PartialMerkleTree(PARAMS, HEX.decode("0100000001750554d572d4ba7dcabead90947d1c57f9df011cba79a2b95666d73302df926a0101"), 0),
                new Transaction(PARAMS, HEX.decode("03000500010000000000000000000000000000000000000000000000000000000000000000ffffffff0502a8030101ffffffff03652a3dbb030000002321029405c90f863e8c9b4dfd0c5aded24f08ebcfd8e053d187a27f70ecd02192afaaacfcc0afb1030000001976a914c9560a0f3528e1c5e3eea83367d2647941961bb488ac62698d09000000001976a91427ce4c0695b45de4a4d6d51358804a6a78e9dda688ac00000000460200a803000042696f1f2db709cde94efa6f8de3e5c5ffda082fcb3f9d81b5929849385667bd0000000000000000000000000000000000000000000000000000000000000000"), 0),
                Arrays.asList(
                        new SimplifiedMasternodeListEntry(PARAMS,
                                Sha256Hash.wrap("663b2fb8bb620db387f7268ccdf261d0739b3b734080487736560536f9da67c0"),
                                Sha256Hash.wrap("5fcef4606b48e92b611df852b12974e549fc385a7097d2370a7bd0bad8cbb055"),
                                new MasternodeAddress("127.0.0.1", 13998),
                                new KeyId(Address.fromBase58(PARAMS, "yhedxEwiZ162jKCd3WpvWgWWocDiciJuKk").getHash()),
                                new BLSLazyPublicKey(PARAMS, HEX.decode("8c3a4249f6e1597ac13fce64b91361ebf6d0837d5a95736549b88826868c34c7c8ede2da665e2702708fc431c9eb231b"), 0),
                                true
                        ),
                        new SimplifiedMasternodeListEntry(PARAMS,
                                Sha256Hash.wrap("beba26ecf8a70d13898cdf463dc2b29b3111999d9ad7bb3b1bd270c38ec64a46"),
                                Sha256Hash.wrap("63f2bb5920d1a0c27c9689d62c6834a314584fcd7b2bf52388c1dcc2c987f2ec"),
                                new MasternodeAddress("127.0.0.1", 13999),
                                new KeyId(Address.fromBase58(PARAMS, "yZLegVnDt5t4KZAiXiH2M88LbvkHxRnXL5").getHash()),
                                new BLSLazyPublicKey(PARAMS, HEX.decode("1185482390215003acac18979f4090b5cb4f2a7abd54a0e25b676d681bb6b53853488a74a014863403eab95b47afa017"), 0),
                                true
                        ),
                        new SimplifiedMasternodeListEntry(PARAMS,
                                Sha256Hash.wrap("67eb2b533192cd354e9571cb361c5fb2f3a40847aed1b0983a18164f650542d4"),
                                Sha256Hash.wrap("17ac84060b137d5e2c19bc4f2fa030fd4c49aedc77c64380251d7c22bf78e560"),
                                new MasternodeAddress("127.0.0.1", 13995),
                                new KeyId(Address.fromBase58(PARAMS, "ygo4ZEACuXGWygecqexNvLR2ryPV6LJBXh").getHash()),
                                new BLSLazyPublicKey(PARAMS, HEX.decode("1904bd1b479ff9fb5d99996575e4bdad5fefad11adf58de8e75d1b6e4964adf8b55d9e4f9432d56df6bef67f2ad68cda"), 0),
                                true
                        ),
                        new SimplifiedMasternodeListEntry(PARAMS,
                                Sha256Hash.wrap("f4bb17991ade54751bae0d192102ffa1fe9428085f459acf22a34f061e5b2a18"),
                                Sha256Hash.wrap("50cc1bc3de661f923afd38e608a5b4fbd1b608cba85d050e7380cbbbe4fc41ff"),
                                new MasternodeAddress("127.0.0.1", 13997),
                                new KeyId(Address.fromBase58(PARAMS, "yiyRqpgyVXTw3SGyWMVNeWS5YMNC56MMnW").getHash()),
                                new BLSLazyPublicKey(PARAMS, HEX.decode("0579dccf1de4e4bbf5f69bd1ccf5df2dd327d32b49e3789ec823858bb4fc3fef32c214461ca16151e7c5176573291429"), 0),
                                true
                        )
                ),
                Lists.newArrayList()
        ));
// TODO: This part of the test has many bugs
//        Context context;
//        try {
//            context = Context.get();
//        } catch (IllegalStateException e) {
//            context = Context.getOrCreate(PARAMS);
//        }
//        BlockChain blockChain = new BlockChain(PARAMS, new MemoryBlockStore(PARAMS));
//        PeerGroup peerGroup = new PeerGroup(PARAMS, blockChain);
//        context.initDash(true, true);
//        context.masternodeListManager.setBlockChain(blockChain, null, peerGroup, context.quorumManager, context.quorumSnapshotManager);
//        context.masternodeListManager.processQuorumRotationInfo(null, qrinfo, true);
//        ArrayList<Masternode> list = context.masternodeListManager.getAllQuorumMembers(LLMQParameters.LLMQType.LLMQ_DEVNET, Sha256Hash.wrap("512157e793d0cf790b6e6305efebcb2745dfc279ae9ef3b8cc0c8ff1c29d978d"));
//        System.out.println(list);

        SimplifiedMasternodeList mnListTip = new SimplifiedMasternodeList(PARAMS);
        SimplifiedMasternodeList mnListAtHMinusC = new SimplifiedMasternodeList(PARAMS);
        SimplifiedMasternodeList mnListAtHMinus2C = new SimplifiedMasternodeList(PARAMS);
        SimplifiedMasternodeList mnListAtHMinus3C = new SimplifiedMasternodeList(PARAMS);

        SimplifiedMasternodeList newMNListTip = mnListTip.applyDiff(qrinfo.getMnListDiffTip());
        SimplifiedMasternodeList newNMListAtHMinusC = mnListAtHMinusC.applyDiff(qrinfo.getMnListDiffAtHMinusC());
        SimplifiedMasternodeList newNMListAtHMinus2C = mnListAtHMinus2C.applyDiff(qrinfo.getMnListDiffAtHMinus2C());
        SimplifiedMasternodeList newNMListAtHMinus3C = mnListAtHMinus3C.applyDiff(qrinfo.getMnListDiffAtHMinus3C());

        newMNListTip.verify(qrinfo.getMnListDiffTip().getCoinBaseTx(), qrinfo.getMnListDiffTip(), mnListTip);
        newNMListAtHMinusC.verify(qrinfo.getMnListDiffAtHMinusC().getCoinBaseTx(), qrinfo.getMnListDiffAtHMinusC(), mnListAtHMinusC);
        newNMListAtHMinus2C.verify(qrinfo.getMnListDiffAtHMinus2C().getCoinBaseTx(), qrinfo.getMnListDiffAtHMinus2C(), mnListAtHMinus2C);
        newNMListAtHMinus3C.verify(qrinfo.getMnListDiffAtHMinus3C().getCoinBaseTx(), qrinfo.getMnListDiffAtHMinus3C(), mnListAtHMinus3C);
    }
}
